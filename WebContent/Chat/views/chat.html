<div ng-controller="ChatController" class="container">
	<div class="row">
		<form ng-submit="sendMessage()" name="messageForm">
			<div class="col-sm-8">
				<input type="text" class="form-control" placeholder="Compose a new message..." ng-model="message" />
			</div>
			<div class="col-sm-4">
				<div class="info">
					<span class="count" ng-bind="max - message.length" ng-class="{danger: message.length > max}">140</span>  characters remaining
					<button class="btn btn-primary" ng-disabled="message.length > max || message.length === 0">Send</button>
				</div>
			</div>
		</form>
	</div>
	<hr />
	<p ng-repeat="message in messages | orderBy:'message_date':true"
		class="message">
		<time>{{message.message_date | date:'HH:mm'}}</time>
		<span>{{message.message}}</span>
	</p>
</div>